services:
  db:
    environment:
      ACCEPT_EULA: "Y"
      SA_PASSWORD: YourStrongP@ssword
    image: microsoft/mssql-server-linux
  dbb:
    image: mongo
    ports:
    - published: 27017
      target: 27017
  gateway:
    build:
      args:
        source: obj/Docker/empty/
      context: E:\potentio-api-gateway\ApiGateway\Gateway
      dockerfile: Dockerfile
    entrypoint: tail -f /dev/null
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      DOTNET_USE_POLLING_FILE_WATCHER: '1'
      NUGET_FALLBACK_PACKAGES: /root/.nuget/fallbackpackages
    image: gateway:dev
    labels:
      com.microsoft.visualstudio.debuggee.arguments: ' --additionalProbingPath /root/.nuget/packages
        --additionalProbingPath /root/.nuget/fallbackpackages  bin/Debug/netcoreapp2.0/Gateway.dll'
      com.microsoft.visualstudio.debuggee.killprogram: /bin/bash -c "if PID=$$(pidof
        -x dotnet); then kill $$PID; fi"
      com.microsoft.visualstudio.debuggee.program: dotnet
      com.microsoft.visualstudio.debuggee.workingdirectory: /app
    ports:
    - target: 80
    volumes:
    - /e/potentio-api-gateway/ApiGateway/Gateway:/app:rw
    - /c/Users/Admin/vsdbg/vs2017u5:/remote_debugger:ro
    - /c/Program Files/dotnet/sdk/NuGetFallbackFolder:/root/.nuget/fallbackpackages:ro
    - /c/Users/Admin/.nuget/packages:/root/.nuget/packages:ro
  servicea:
    build:
      context: E:\potentio-api-gateway\ApiGateway\QuestionBank\Admin\Admin
      dockerfile: Dockerfile
      target: build-env
    depends_on:
    - dbb
    entrypoint: tail -f /dev/null
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      DOTNET_USE_POLLING_FILE_WATCHER: '1'
      NUGET_FALLBACK_PACKAGES: /root/.nuget/fallbackpackages
    image: questionbank:dev
    labels:
      com.microsoft.visualstudio.debuggee.arguments: ' --additionalProbingPath /root/.nuget/packages
        --additionalProbingPath /root/.nuget/fallbackpackages  bin/Debug/netcoreapp2.1/Admin.dll'
      com.microsoft.visualstudio.debuggee.killprogram: /bin/bash -c "if PID=$$(pidof
        -x dotnet); then kill $$PID; fi"
      com.microsoft.visualstudio.debuggee.program: dotnet
      com.microsoft.visualstudio.debuggee.workingdirectory: /app
    ports:
    - target: 80
    volumes:
    - /e/potentio-api-gateway/ApiGateway/QuestionBank/Admin/Admin:/app:rw
    - /c/Users/Admin/vsdbg/vs2017u5:/remote_debugger:ro
    - /c/Program Files/dotnet/sdk/NuGetFallbackFolder:/root/.nuget/fallbackpackages:ro
    - /c/Users/Admin/.nuget/packages:/root/.nuget/packages:ro
  serviceb:
    build:
      context: E:\potentio-api-gateway\ApiGateway\UserLogin\UserLoginAPI\UserLoginAPI
      dockerfile: Dockerfile
      target: build-env
    depends_on:
    - db
    - servicea
    entrypoint: tail -f /dev/null
    environment:
      ASPNETCORE_ENVIRONMENT: Development
      DOTNET_USE_POLLING_FILE_WATCHER: '1'
      NUGET_FALLBACK_PACKAGES: /root/.nuget/fallbackpackages
    image: userlogin:dev
    labels:
      com.microsoft.visualstudio.debuggee.arguments: ' --additionalProbingPath /root/.nuget/packages
        --additionalProbingPath /root/.nuget/fallbackpackages  bin/Debug/netcoreapp2.1/UserLoginAPI.dll'
      com.microsoft.visualstudio.debuggee.killprogram: /bin/bash -c "if PID=$$(pidof
        -x dotnet); then kill $$PID; fi"
      com.microsoft.visualstudio.debuggee.program: dotnet
      com.microsoft.visualstudio.debuggee.workingdirectory: /app
    ports:
    - target: 80
    volumes:
    - /e/potentio-api-gateway/ApiGateway/UserLogin/UserLoginAPI/UserLoginAPI:/app:rw
    - /c/Users/Admin/vsdbg/vs2017u5:/remote_debugger:ro
    - /c/Program Files/dotnet/sdk/NuGetFallbackFolder:/root/.nuget/fallbackpackages:ro
    - /c/Users/Admin/.nuget/packages:/root/.nuget/packages:ro
  servicec:
    build:
      context: E:\potentio-api-gateway\ApiGateway\Result\Result\Result
      dockerfile: Dockerfile
    depends_on:
    - dbb
    image: result
version: '3.4'